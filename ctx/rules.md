# AI 작업 규칙 및 금지사항

## 절대 금지 사항

### 1. 커밋 관련
- ❌ `Library/` 폴더 커밋
- ❌ `Temp/` 폴더 커밋
- ❌ `Logs/` 폴더 커밋
- ❌ `.meta` 파일 없이 에셋 커밋
- ❌ 불필요한 IDE 설정 파일 커밋 (`.vs/`, `*.csproj.user`)

### 2. Unity 에셋 조작
- ❌ 텍스트 에디터로 씬(`.unity`) 파일 직접 수정
- ❌ 텍스트 에디터로 프리팹(`.prefab`) 파일 직접 수정
- ❌ 에셋 이동 시 `.meta` 파일 수동 이동 (Unity 에디터 사용 필수)
- ❌ 파일 시스템에서 직접 에셋 삭제 (Unity 에디터 사용 필수)

### 3. 코드 작성
- ❌ 하드코딩된 API 키 (반드시 외부 설정 파일 사용)
- ❌ 절대 경로 사용 (상대 경로 또는 Unity API 사용)
- ❌ 한글 변수명 사용 (주석은 한글 가능)
- ❌ `Debug.Log()` 남발 (필요한 경우만, 커밋 전 정리)

## 필수 준수 사항

### 작업 시작 전
1. ✅ 현재 git 상태 확인 (`git status`)
2. ✅ Unity 에디터가 열려 있지 않은지 확인 (파일 잠금 방지)
3. ✅ 관련 문서 검토 (`ctx/conventions.md`, `ctx/roadmap.md`)

### 코드 작성 시
1. ✅ 기존 코드 스타일 유지
2. ✅ 명명 규칙 준수 (`ctx/conventions.md` 참조)
3. ✅ 에러 핸들링 포함
4. ✅ null 체크 필수

### 작업 완료 후
1. ✅ 변경된 파일 목록 먼저 제시
2. ✅ 변경 이유 및 주요 내용 요약
3. ✅ 테스트 방법 안내
4. ✅ 다음 단계 제안

## 출력 형식 규칙

### 파일 변경 시 출력 템플릿

```markdown
## 변경된 파일

### 새로 생성
- `Assets/_Project/Scripts/Managers/ChatManager.cs`
- `Assets/_Project/Prefabs/UI/ChatPanel.prefab`

### 수정됨
- `Assets/_Project/Scenes/MainScene.unity`
- `docs/roadmap.md` (진행 상황 업데이트)

### 삭제됨
- 없음

## 주요 변경 내용
1. ChatManager 싱글톤 구현 - 메시지 관리 중앙화
2. ChatPanel UI 구조 생성 - ScrollView + InputField
3. MainScene에 ChatPanel 배치

## 테스트 방법
1. Unity에서 MainScene 열기
2. Play 모드 진입
3. InputField에 텍스트 입력 후 전송 버튼 클릭
4. 메시지가 ScrollView에 표시되는지 확인

## 다음 단계
- Day 2 진행: 채팅 상태 관리 구현 시작
- Message 데이터 모델 정의 필요
```

### 리뷰 요청 시 출력 템플릿

```markdown
## Codex 리뷰 요청

### 컨텍스트
- 작업 목표: [기능 설명]
- 관련 파일: [파일 목록]

### 리뷰 포인트
1. 코드 품질 및 가독성
2. 에러 핸들링 적절성
3. Unity 베스트 프랙티스 준수 여부
4. 잠재적 버그 여부

### 첨부
[변경된 코드 또는 파일 경로]
```

## 에러 처리 가이드

### 파일 접근 오류
- Unity 에디터가 파일을 잠그고 있을 가능성 → 에디터 종료 안내
- 권한 문제 → 관리자 권한 확인 안내

### Git 충돌
- 충돌 파일 목록 제시
- 수동 해결 필요성 안내
- Unity 씬/프리팹 충돌 시 Unity Merge Tool 사용 권장

### API 오류
- 오류 메시지 명확히 표시
- 가능한 원인 나열
- 해결 방법 단계별 제시

## AI 협업 원칙

1. **투명성**: 모든 변경사항 명시적으로 보고
2. **안전성**: 불확실한 작업은 사전 확인 요청
3. **일관성**: 기존 코드 스타일 및 구조 유지
4. **문서화**: 중요한 결정은 `ctx/` 폴더에 기록
5. **점진성**: 큰 변경은 작은 단계로 분할

## 참고: AI 전환 시점

### Claude → Codex 전환
- Claude 사용량 한계 도달 시
- 복잡한 구현보다 리뷰가 필요한 시점
- 코드 검증 및 최적화 단계

### Codex → Claude 전환
- 새로운 기능 구현 필요 시
- 대규모 리팩토링 필요 시
- 창의적 문제 해결 필요 시
